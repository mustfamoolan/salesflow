import{r as b,G as f,j as e,S as y,x as c}from"./app-B8OsyTt7.js";import{A as j}from"./AdminLayout-DtgNtGvZ.js";function w(){const[N,v]=b.useState([""]),{data:r,setData:t,post:i,processing:n,errors:a,transform:d}=f({name:"",description:"",price:"",duration_days:30,features:[""],max_employees:"",max_customers:"",max_products:"",has_reports:!1,has_analytics:!1,has_api:!1,has_support:!1,is_popular:!1,is_active:!0});d(s=>({...s,features:s.features.filter(l=>l.trim()!==""),max_employees:s.max_employees===""?null:parseInt(s.max_employees),max_customers:s.max_customers===""?null:parseInt(s.max_customers),max_products:s.max_products===""?null:parseInt(s.max_products)}));const m=s=>{s.preventDefault(),i("/admin/packages")},u=()=>{const s=[...r.features,""];t("features",s)},x=s=>{const l=r.features.filter((o,g)=>g!==s);t("features",l)},h=(s,l)=>{const o=[...r.features];o[s]=l,t("features",o)},p=()=>{const s=parseInt(r.duration_days);return s>=365?`${Math.floor(s/365)} سنة`:s>=30?`${Math.floor(s/30)} شهر`:`${s} يوم`};return e.jsxs(j,{title:"إضافة باقة جديدة",children:[e.jsx(y,{title:"إضافة باقة جديدة - لوحة تحكم الأدمن"}),e.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"إضافة باقة جديدة"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"إنشاء باقة اشتراك جديدة مع تحديد السعر والمميزات"})]}),e.jsxs(c,{href:"/admin/packages",className:"inline-flex items-center px-4 py-2 bg-gray-600 border border-transparent rounded-lg text-sm font-medium text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors duration-200",children:[e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"العودة للقائمة"]})]})}),e.jsx("form",{onSubmit:m,className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"معلومات أساسية"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"اسم الباقة *"}),e.jsx("input",{type:"text",id:"name",value:r.name,onChange:s=>t("name",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"مثل: الباقة الأساسية"}),a.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.name})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"وصف الباقة"}),e.jsx("textarea",{id:"description",rows:3,value:r.description,onChange:s=>t("description",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"وصف مختصر للباقة ومميزاتها..."}),a.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.description})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"السعر (دينار عراقي) *"}),e.jsx("input",{type:"number",id:"price",min:"0",step:"0.01",value:r.price,onChange:s=>t("price",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"50000"}),a.price&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.price})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"duration_days",className:"block text-sm font-medium text-gray-700",children:"مدة الباقة (بالأيام) *"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{type:"number",id:"duration_days",min:"1",value:r.duration_days,onChange:s=>t("duration_days",s.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pr-3 flex items-center pointer-events-none",children:e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",p(),")"]})})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"30 يوم = شهر، 365 يوم = سنة"}),a.duration_days&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.duration_days})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"مميزات الباقة *"}),e.jsxs("div",{className:"space-y-3",children:[r.features.map((s,l)=>e.jsxs("div",{className:"flex items-center space-x-2 space-x-reverse",children:[e.jsx("input",{type:"text",value:s,onChange:o=>h(l,o.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:`ميزة ${l+1}`}),r.features.length>1&&e.jsx("button",{type:"button",onClick:()=>x(l),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors duration-200",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},l)),e.jsxs("button",{type:"button",onClick:u,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[e.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"إضافة ميزة"]})]}),a.features&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:a.features})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"حدود الباقة"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"max_employees",className:"block text-sm font-medium text-gray-700",children:"الحد الأقصى للموظفين"}),e.jsx("input",{type:"number",id:"max_employees",min:"0",value:r.max_employees,onChange:s=>t("max_employees",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"غير محدود"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"اتركه فارغاً لعدم وجود حد"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"max_customers",className:"block text-sm font-medium text-gray-700",children:"الحد الأقصى للعملاء"}),e.jsx("input",{type:"number",id:"max_customers",min:"0",value:r.max_customers,onChange:s=>t("max_customers",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"غير محدود"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"اتركه فارغاً لعدم وجود حد"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"max_products",className:"block text-sm font-medium text-gray-700",children:"الحد الأقصى للمنتجات"}),e.jsx("input",{type:"number",id:"max_products",min:"0",value:r.max_products,onChange:s=>t("max_products",s.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"غير محدود"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"اتركه فارغاً لعدم وجود حد"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"مميزات إضافية"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"has_reports",type:"checkbox",checked:r.has_reports,onChange:s=>t("has_reports",s.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"has_reports",className:"mr-2 block text-sm text-gray-900",children:"تقارير متقدمة"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"has_analytics",type:"checkbox",checked:r.has_analytics,onChange:s=>t("has_analytics",s.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"has_analytics",className:"mr-2 block text-sm text-gray-900",children:"تحليلات البيانات"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"has_api",type:"checkbox",checked:r.has_api,onChange:s=>t("has_api",s.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"has_api",className:"mr-2 block text-sm text-gray-900",children:"وصول API"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"has_support",type:"checkbox",checked:r.has_support,onChange:s=>t("has_support",s.target.checked),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"has_support",className:"mr-2 block text-sm text-gray-900",children:"دعم فني"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"إعدادات الحالة"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"is_popular",type:"checkbox",checked:r.is_popular,onChange:s=>t("is_popular",s.target.checked),className:"h-4 w-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500"}),e.jsx("label",{htmlFor:"is_popular",className:"mr-2 block text-sm text-gray-900",children:"باقة شائعة"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"is_active",type:"checkbox",checked:r.is_active,onChange:s=>t("is_active",s.target.checked),className:"h-4 w-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),e.jsx("label",{htmlFor:"is_active",className:"mr-2 block text-sm text-gray-900",children:"نشط"})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{type:"submit",disabled:n,className:"w-full inline-flex justify-center items-center px-4 py-2 bg-blue-600 border border-transparent rounded-md text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition-colors duration-200",children:n?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"جاري الحفظ..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"حفظ الباقة"]})}),e.jsx(c,{href:"/admin/packages",className:"w-full inline-flex justify-center items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md text-sm font-medium text-gray-700 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200",children:"إلغاء"})]})})]})]})})]})]})}export{w as default};
